<picture class="Picture {{ bemMix }}">
	{% set ext = ext ?? 'jpg' %}

	{% if not devMode and ext != 'svg' %}
		{% if adaptive %}
			<source
				type="image/webp"
				media="(min-width: {{ Breakpoint.DESKTOP }}px)"
				srcset="{{ rootPath }}images/{{ filename }}-desktop.webp 1x, {{ rootPath }}images/{{ filename }}-desktop@2x.webp 2x"
			/>
			<source
				type="image/webp"
				media="(min-width: {{ Breakpoint.TABLET }}px)"
				srcset="{{ rootPath }}images/{{ filename }}-tablet.webp 1x, {{ rootPath }}images/{{ filename }}-tablet@2x.webp 2x"
			/>
		{% endif %}

		<source
			type="image/webp"
			srcset="{{ rootPath }}images/{{ filename }}.webp 1x, {{ rootPath }}images/{{ filename }}@2x.webp 2x"
		/>
	{% endif %}

	{% if adaptive %}
		<source
			media="(min-width: {{ Breakpoint.DESKTOP }}px)"
			srcset="{{ rootPath }}images/{{ filename }}-desktop.{{ ext }} 1x, {{ rootPath }}images/{{ filename }}-desktop@2x.{{ ext }} 2x"
		/>
		<source
			media="(min-width: {{ Breakpoint.TABLET }}px)"
			srcset="{{ rootPath }}images/{{ filename }}-tablet.{{ ext }} 1x, {{ rootPath }}images/{{ filename }}-tablet@2x.{{ ext }} 2x"
		/>
	{% endif %}

	<img
		class="Picture__image"
		src="{{ rootPath }}images/{{ filename }}.{{ ext }}"
		srcset="{{ rootPath }}images/{{ filename }}@2x.{{ ext }} 2x"
		{{ width ? 'width="' ~ width ~ '"' }}
		{{ height ? 'height="' ~ height ~ '"' }}
		{{ alt ? 'alt="' ~ alt|punctify ~ '"' : 'alt="" aria-hidden="true"' }}
		{{ not immediately ? 'loading="lazy"' }}
	/>
</picture>
